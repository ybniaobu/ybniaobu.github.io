---
title: 线性代数
date: 2023-07-12 19:07:45
categories: 
  - [数学, 3d数学基础]
tags:
  - 游戏开发
  - 数学
top_img: /images/black.jpg
cover: https://s2.loli.net/2023/07/12/tAXf9jPcbOqzyDN.gif
mathjax: true
---

> 该笔记来源于《麻省理工公开课：线性代数》，以及 MLNLP 的关于该公开课的 GitHub 公开项目的笔记：<https://github.com/MLNLP-World/MIT-Linear-Algebra-Notes>  
> 公开课 B 站 bv 号：BV16Z4y1U7oU


# 第一课 方程组的几何解释
通过一个例子来阐述对**方程组的不同几何理解**：

方程组形式：  

$$ \left\{ \begin{array}{c} 2x - y = 0 \\ −x + 2y = 3  \end{array} \right.\\ $$

列向量形式：

$$ x\begin{bmatrix} 2 \\ -1 \end{bmatrix} + y \begin{bmatrix} -1 \\ 2 \end{bmatrix} = \begin{bmatrix} 0 \\ 3 \end{bmatrix} $$

矩阵形式：

$$ \begin{bmatrix} 2 & -1 \\ -1 & 2 \end{bmatrix} \begin{bmatrix} x \\ y \end{bmatrix} = \begin{bmatrix} 0 \\ 3 \end{bmatrix} $$

①方程组形式（行图像）的理解：在坐标系的两条直线，相交点即为解；  
②列向量形式（列图像）的理解：将公式左侧的向量以未知方式进行组合，组合的结果为右侧向量，该未知组合为解；  
③矩阵形式的理解：即坐标系变换，将未知向量进行矩阵坐标系变换得到的结果为右侧向量，该未知向量为解。

**矩阵乘法**：  
方法 1，将矩阵看做列向量的组合（建议使用这个理解，更好一点）：

$$ \begin{bmatrix} 2 & 5 \\ 1 & 3 \end{bmatrix} \begin{bmatrix} 1 \\ 2 \end{bmatrix} = 1\begin{bmatrix} 2 \\ 1 \end{bmatrix} + 2\begin{bmatrix} 5 \\ 3 \end{bmatrix} = \begin{bmatrix} 12 \\ 7 \end{bmatrix} $$

方法 2，将矩阵 A 看做行向量的组合（点乘）：

$$ \begin{bmatrix} 2 & 5 \\ 1 & 3 \end{bmatrix} \begin{bmatrix} 1 \\ 2 \end{bmatrix} = \begin{bmatrix} (2, 5)\cdot(1, 2) \\ (1, 3)\cdot(1, 2) \end{bmatrix}  = \begin{bmatrix} 12 \\ 7 \end{bmatrix} $$

# 第二课 消元法
## 消元法介绍
$ 求解方程组: \left\{ \begin{aligned} x + 2y + z &= 2 \\ 3x + 8y + z &= 12 \\ 4y + z &= 2  \end{aligned} \right.\\ $

使用矩阵运算，将方程写为矩阵形式 Ax = b（系数矩阵为 A）：  

$$ \begin{bmatrix} 1 & 2 & 1 \\ 3 & 8 & 1 \\ 0 & 4 & 1 \end{bmatrix} \begin{bmatrix} x \\ y \\ z\end{bmatrix} = \begin{bmatrix} 2 \\ 12 \\2 \end{bmatrix} $$

**增广矩阵 Augmented matrix** 就是在系数矩阵的右边添上一列，即线性方程组的等号右边的值：

$$ \left[ \begin{array}{ccc|c} 1 & 2 & 1 & 2 \\ 3 & 8 & 1 & 12 \\ 0 & 4 & 1 & 2 \end{array} \right] \to \left[ \begin{array}{ccc|c} 1 & 2 & 1 & 2 \\ 0 & 2 & -2 & 6 \\ 0 & 4 & 1 & 2 \end{array} \right] \to \left[ \begin{array}{ccc|c} 1 & 2 & 1 & 2 \\ 0 & 2 & -2 & 6 \\ 0 & 0 & 5 & -10 \end{array} \right] $$

消元后的矩阵就是：

$$ \left\{ \begin{aligned} x + 2y + z &= 2 \\ 2y - 2z &= 6 \\ 5z &= -10  \end{aligned} \right.\\ $$

然后就可以求解了，和解二元一次方程组的消元法一模一样。

## 消元矩阵
①行向量与矩阵的乘法（这里先知道一下，之后会讲）

$$ \begin{bmatrix} 1 & 2 & 7 \end{bmatrix} \begin{bmatrix} ? & ? & ? \\ ? & ? & ? \\ ? & ? & ? \end{bmatrix} $$

上述公式可理解为 1 乘以第一行，2 乘以第二行，7 乘以第三行，解为行向量。而第一课的列向量是 x 乘以第一列，y 乘以第二列，z 乘以第三列，解为列向量。至于为什么一个在左侧和一个右侧，见后面，即**矩阵运算不符合交换律 commutative law**。

②消元矩阵介绍（重点）

首先先看**单位矩阵 identity matrix**：
$$ \begin{bmatrix} 1 & 0 & 0 \\ 0 & 1 & 0 \\ 0 & 0 & 1 \end{bmatrix} \begin{bmatrix} 1 & 2 & 1 \\ 3 & 8 & 1 \\ 0 & 4 & 1 \end{bmatrix} = \begin{bmatrix} 1 & 2 & 1 \\ 3 & 8 & 1 \\ 0 & 4 & 1 \end{bmatrix} $$

把单位矩阵看成三行，即[1 0 0]，[0 1 0]，[0 0 1]。可以看作三个行向量与矩阵乘法，首先 [1 0 0]，1个第一行，0个第二行和第三行，结果为值为第一行的行向量。依此类推，得到原矩阵。

所以上面消元法的矩阵可以写成：

$$ \begin{bmatrix} 1 & 0 & 0 \\ -3 & 1 & 0 \\ 0 & 0 & 1 \end{bmatrix} \begin{bmatrix} 1 & 2 & 1 \\ 3 & 8 & 1 \\ 0 & 4 & 1 \end{bmatrix} = \begin{bmatrix} 1 & 2 & 1 \\ 0 & 2 & -2 \\ 0 & 4 & 1 \end{bmatrix} $$

可以算一下，结果矩阵的第二行，即 -3 个参数矩阵的第一行，1 个第一行和 0 个第三行组合而成。另外：若想得到结果矩阵的第二行第三列的数字，就需要第一个矩阵的第二行，第二个矩阵的第三列的数字。

## 置换矩阵 Permutation  
左乘置换矩阵可以完成原矩阵的行变换：

$$ \begin{bmatrix} 0 & 1 \\ 1 & 0 \end{bmatrix} \begin{bmatrix} a & b \\ c & d \end{bmatrix} = \begin{bmatrix} c & d \\ a & b \end{bmatrix} $$

右乘置换矩阵则为列变换：

$$ \begin{bmatrix} a & b \\ c & d \end{bmatrix} \begin{bmatrix} 0 & 1 \\ 1 & 0 \end{bmatrix} = \begin{bmatrix} b & a \\ d & c \end{bmatrix} $$

对于三阶矩阵，一共有 6 个置换矩阵：  

$$ \begin{bmatrix} 1 & 0 & 0 \\ 0 & 1 & 0 \\ 0 & 0 & 1 \end{bmatrix} \begin{bmatrix} 0 & 1 & 0 \\ 1 & 0 & 0 \\ 0 & 0 & 1 \end{bmatrix} \begin{bmatrix} 1 & 0 & 0 \\ 0 & 0 & 1 \\ 0 & 1 & 0 \end{bmatrix} \begin{bmatrix} 0 & 1 & 0 \\ 0 & 0 & 1 \\ 1 & 0 & 0 \end{bmatrix} \begin{bmatrix} 0 & 0 & 1 \\ 0 & 1 & 0 \\ 1 & 0 & 0 \end{bmatrix} \begin{bmatrix} 0 & 0 & 1 \\ 1 & 0 & 0 \\ 0 & 1 & 0 \end{bmatrix} $$

我们任取两个矩阵相乘，结果仍在这个 6 个矩阵中。

## 逆矩阵初探 Inverse
消元矩阵的逆矩阵的实施效果就是抵消原矩阵的消元操作。消元矩阵实现了对原矩阵 A 的操作，使第二行行向量 [3, 8, 1] 减掉了第一行 [1, 2, 1] 的3倍变为 [0, 2, -2]，则逆向操作就应该是把现在的第二行行向量 [0, 2, -2] 加上第一行 [1, 2, 1] 的3倍，从而变回原来的第二行 [3, 8, 1]。

所以对于$ E = \begin{bmatrix} 1 & 0 & 0 \\ -3 & 1 & 0 \\ 0 & 0 & 1 \end{bmatrix} $，有 $ E^{-1} = \begin{bmatrix} 1 & 0 & 0 \\ 3 & 1 & 0 \\ 0 & 0 & 1 \end{bmatrix} $

满足$ E^{-1}E = I $，即 $ \begin{bmatrix} 1 & 0 & 0 \\ 3 & 1 & 0 \\ 0 & 0 & 1 \end{bmatrix} \begin{bmatrix} 1 & 0 & 0 \\ -3 & 1 & 0 \\ 0 & 0 & 1 \end{bmatrix} = \begin{bmatrix} 1 & 0 & 0 \\ 0 & 1 & 0 \\ 0 & 0 & 1 \end{bmatrix} $

# 第三课 矩阵乘法和逆矩阵
## 矩阵乘法
①基础求解方法  
假设 A、B、C 为矩阵，且 A * B = C。若要求解元素 $C_{ij}$，将 A 中 i 行的行向量与 B 中 j 列的列向量进行数量积，即为该元素的值：

$$ C_{ij} = (A 中第 i 行向量)(B 中第 j 列向量) = \sum_{k=1}^n a_{ik} b_{kj} $$

根据上述，若要矩阵相乘，A 的列数必须与 B 的行数相同，结果 C 矩阵的规格为 A 的行数，B 的列数。即若 A 是 m 行 n 列，B 是 n 行 p 列，结果为：

$$ \begin{array}{} A & \times & B & = & C \\ m * n & & n * p & & m * p \end{array} $$

②列组合方法：跟前一节课说得一样，把 B 矩阵当作很多个列向量的组合，将问题转化为矩阵与向量的乘法问题。也表明了矩阵 C 就是矩阵 A 中各列向量的线性组合，而 B 其实是在告诉我们，要以什么样的方式组合 A 中的列向量。

③行组合方法：同理，将 A 矩阵当作很多个行向量的组合，将问题转化为矩阵与向量的乘法问题。所以是矩阵 B 各行的线性组合组成了 C 的各行。

④列乘以行  
*若是行向量乘以列向量，得到的是某个位置的单一元素。*即 1 \* n 矩阵和 n \* 1 矩阵得到 1 \* 1 矩阵。  
*若是列向量乘以行向量，得到的是一个矩阵。*即 m \* 1 矩阵和 1 \* p 矩阵得到 m \* p 矩阵。  
所以矩阵相乘使用列乘以行，得到数个矩阵，再将矩阵相加，就可以得到 C。

$$ \begin{bmatrix} 2 & 7 \\ 3 & 8 \\ 4 & 9 \end{bmatrix} \begin{bmatrix} 1 & 6 \\ 0 & 0 \end{bmatrix} = \begin{bmatrix} 2 \\ 3 \\ 4 \end{bmatrix} \begin{bmatrix} 1 & 6 \end{bmatrix} + \begin{bmatrix} 7 \\ 8 \\ 9 \end{bmatrix} \begin{bmatrix} 0 & 0 \end{bmatrix} = \begin{bmatrix} 2 & 12 \\ 3 & 18 \\ 4 & 24 \end{bmatrix} $$

⑤分块乘法  
比如现在有一个 50\*50 的矩阵与 50\*50 矩阵相乘，一个一个进行运算很麻烦，尤其是如果矩阵在某一区域上有一定的性质，那么我们可以将其分块，如：  

 $$ \begin{bmatrix} A_1 & A_2 \\ A_3 & A_4 \end{bmatrix} \begin{bmatrix} B_1 & B_2 \\ B_3 & B_4 \end{bmatrix} = \begin{bmatrix} C_1 & C_2 \\ C_3 & C_4 \end{bmatrix} $$

 其中 $A_{1,2,3,4} $ 和 $B_{1,2,3,4} $ 都是划分之后的一块块矩阵，那么 $C_1 = A_1B_1 + A_2B_3 $ 。

## 逆矩阵
①对于一个方阵（正方形矩阵）$A$，如果 $A$ 可逆，就有这样一个 $A^{−1}$，使：  

$$ AA^{−1} = I = A^{−1}A $$

但是对于非方阵（长方形矩阵），左侧的$A^{−1}$与右侧的$A^{−1}$不可能相同。

②不可逆矩阵  
&emsp;&emsp; - 应行列式为 0，矩阵不可逆（见后面行列式）；  
&emsp;&emsp; - 若存在非零向量 x，使得 Ax = 0，那么 A 就不可能有逆矩阵。因为如果 $A$ 有逆，在 $Ax = 0$ 这个等式两端同时乘上$A^{−1}$，就有：$A^{−1}Ax$ = $Ix$ = 零向量。自相矛盾。所以此时 A 没有逆矩阵。

比如这个没有逆的矩阵 $\begin{bmatrix} 1 & 3 \\ 2 & 6 \end{bmatrix}$，它的行列式为零；矩阵中的两个列向量在同一直线上；非零向量[3, -1]可以使 Ax = 0。

③逆矩阵求解  
方法一：列向量

$$ \begin{bmatrix} 1 & 3 \\ 2 & 7 \end{bmatrix} \begin{bmatrix} a & b \\ c & d \end{bmatrix} = \begin{bmatrix} 1 & 0 \\ 0 & 1 \end{bmatrix} $$

即，得到两个方程：

$$ \begin{array}{} \begin{bmatrix} 1 & 3 \\ 2 & 7 \end{bmatrix} \begin{bmatrix} a \\ c \end{bmatrix} = \begin{bmatrix} 1 \\ 0 \end{bmatrix} & \begin{bmatrix} 1 & 3 \\ 2 & 7 \end{bmatrix} \begin{bmatrix} b \\ d \end{bmatrix} = \begin{bmatrix} 0 \\ 1 \end{bmatrix} \end{array} $$

方法二：高斯－若尔当消元法 Gauss-Jordan Elimination  
即使用增广矩阵联系两个方程增广矩阵，并进行消元行变换，将虚线左侧消为单位矩阵 I，此时右侧矩阵即为逆矩阵：

$$ \left[ \begin{array}{cc|cc} 1 & 3 & 1 & 0 \\ 2 & 7 & 0 & 1 \end{array} \right] \to \left[ \begin{array}{cc|cc} 1 & 3 & 1 & 0 \\ 0 & 1 & -2 & 1 \end{array} \right] \to \left[ \begin{array}{cc|cc} 1 & 0 & 7 & -3 \\ 0 & 1 & -2 & 1 \end{array} \right] $$

上述公式，可以理解为对 [A I] 进行左乘消元处理（见上面消元矩阵），即 E [A I] = [I ?]，已知消元矩阵 E 乘以 A 等于 I，所以 E 本身就是逆矩阵，所以逆矩阵乘以 I 还是逆矩阵。

④逆矩阵补充  
AB 的逆矩阵：因为 $ABB^{−1}A^{−1} = I$，所以 $(AB)^{−1}= B^{−1}A^{−1}$。

# 第四课 矩阵 A 的 LU 分解
将矩阵 A 分解为**下三角矩阵 L（lower triangular matrix）** 与**上三角矩阵 U (upper triangular matrix)**，$A=LU$。

我们熟悉的的消元法都是直接使用行变换得来的。而由于消元矩阵的存在，说明用矩阵乘法也可以达与之到一样的消元效果，即对于 2 阶矩阵，消元矩阵 $E$ 左乘 $A$ 变为上三角矩阵 $U$， $E_{21}  A = U$，可以改写为 $A = (E_{21})^{−1} U$，这一形式即 $A = LU$ 形式。并且，每个消元矩阵都是下三角矩阵，它的逆依然是下三角矩阵。**这个等式有更重大的意义，它是将矩阵分解为一个下三角矩阵乘一个上三角矩阵，一个方形系统等于两个三角系统。**

关于矩阵的 LU 分解，下面的关键点值得注意：  
①每个 $E_{ij}$ 都可逆，若其（i，j）元素是负的“乘数”，而 $E_{ij}^{-1}$ 的（i，j）元素就是正的乘数。比如：$ E_{21} = \begin{bmatrix} 1 & 0 & 0 \\ -a & 1 & 0 \\ 0 & 0 & 1 \end{bmatrix} $，那么 $E_{21}^{-1} = \begin{bmatrix} 1 & 0 & 0 \\ a & 1 & 0 \\ 0 & 0 & 1 \end{bmatrix} $。因为消元矩阵是减去某行的“乘数”倍，它的逆就是加上那行的“乘数”倍。  
②不仅每个 $E_{ij}$ 都可逆，每个 $E_{ij}$ 的逆依然是下三角矩阵，并且对角线上的元素依然是1。  
③$L$ 是一系列 $E_{ij}^{-1}$ 相乘的结果，但是 $E_{ij}^{-1}$ 相乘顺序和 $E_{ij}$ 相反。比如，$E_{32} E_{31} E_{21} A = U$，那么 $L = E_{21}^{-1} E_{31}^{-1} E_{32}^{-1}$。  
④每个 $E_{ij}^{-1}$ 都是对角线为 1 的下三角矩阵，它们的乘积依然是对角线为 1 的下三角矩阵。  
⑤关于 L 最重要的一个结论：L 中下三角部分（i，j）位置的元素 $L_{ij}$ 就等于“乘数”。  
例如，$ E_{21} = \begin{bmatrix} 1 & 0 & 0 \\ -a & 1 & 0 \\ 0 & 0 & 1 \end{bmatrix} $ $ E_{31} = \begin{bmatrix} 1 & 0 & 0 \\ 0 & 1 & 0 \\ -b & 0 & 1 \end{bmatrix} $ $ E_{32} = \begin{bmatrix} 1 & 0 & 0 \\ 0 & 1 & 0 \\ 0 & -c & 1 \end{bmatrix} $  
则 $ E = E_{32}E_{31}E_{21} = \begin{bmatrix} 1 & 0 & 0 \\ 0 & 1 & 0 \\ 0 & -c & 1 \end{bmatrix}\begin{bmatrix} 1 & 0 & 0 \\ 0 & 1 & 0 \\ -b & 0 & 1 \end{bmatrix} \begin{bmatrix} 1 & 0 & 0 \\ -a & 1 & 0 \\ 0 & 0 & 1 \end{bmatrix} = \begin{bmatrix} 1 & 0 & 0 \\ -a & 1 & 0 \\ ac-b & -c & 1 \end{bmatrix} $  
那么 $ L = \begin{bmatrix} 1 & 0 & 0 \\ a & 1 & 0 \\ b & c & 1 \end{bmatrix} $


# 第五课 转置、转换、向量空间
## 置换矩阵 Permutation Matrix
置换矩阵回顾：  
①所谓的置换矩阵 P，就是用来完成行交换的矩阵。  
②那么对于 n 阶矩阵来说，有 n! 个置换矩阵。  
③置换矩阵另一个优点就是可逆的，并且对于置换矩阵 P 来说，有 $PP^T = I$，即 $P^{-1} = P^T$。  
④置换矩阵是一种特殊的正交矩阵，正交矩阵未必是置换矩阵。

## 转置矩阵 Transposed Matrix
①转置矩阵回顾：转置矩阵将行元素与列元素交换，即 $A_{ij}^T = A_{ji}$。  
②转置矩阵的运算规律：${(AB)}^T = B^TA^T$。  
③**对称矩阵 Symmetric matrix**，即主对角线两侧元素对应相等的矩阵，即对于该矩阵来说 $A^T = A$。任意矩阵和它的转置矩阵相乘得到的方阵一定是对称矩阵，即 ${(A^TA)}^T = A^TA^{TT} = A^TA$，所以对于任何 $A^TA$，其转置仍然是本身，所以是对称矩阵。

## 向量空间 Vector Space 与子空间
### 向量空间
向量空间，又称线性空间，定义为带有加法和标量乘法的集合。在一个向量空间中，如果我们将任意向量相加或者乘以一个标量，也就是任意向量的线性组合，它们的结果仍然在这个向量空间中（向量空间必然包括原点，因为任意向量乘以一个标量也在向量空间，而这个标量可以为零）。向量空间 $R^n$ 由所有的 n 维向量 v 组成，向量中的每个元素都是实数 R。

比如，$R^2$ 就是一个向量空间，即一个平面，其中的向量均为二维实向量。$R^3$ 这个三维空间也是向量空间。在三维空间中过原点的一个平面也是一个向量空间，这个向量空间和 $R^2$ 很像，但其中的每个向量都有三个元素。

### 子空间
一个向量空间的子空间是由一系列包含零向量的向量组成的，并且满足：如果是 v 和 w 是子空间的两个向量并且 c 是任意标量，那么有 (1) v + w 在子空间中， (2) cv 在子空间中。也就是说，所有向量的线性组合都仍然在这个子空间中，即子空间本身也是向量空间。

对于 $R^3$ 三维空间来说，有 4 类子空间：  
①$L$：所有过 (0, 0, 0) 的直线；  
②$P$：所有过 (0, 0, 0) 的平面；  
③$Z$：零向量 (0, 0, 0)；  
④$R^3$：整个三维空间

### 列空间初探
矩阵 A 的列空间 $C(A)$ 是其列向量的所有线性组合所构成的空间（某个子空间）。比如：

$$ A = \begin{bmatrix} 1 & 3 \\ 2 & 3 \\ 4 & 1 \end{bmatrix} $$

其 2 个列向量都属于 $R^3$ ，这两个向量组成一个平面，构成了 $R^3$ 的一个子空间。


# 第六课 列空间和零空间
### 列空间回顾
列空间的 Ax = b 解释(从 A 的角度)：  
①子空间是和矩阵紧密联系的。当我们求解 Ax = b 时，Ax 的本质是对 A 的列向量进行线性组合。为了得到 b，我们用任何可能的 x 来求取 A 的列向量的所有可能的线性组合，这产生了一个 A 的列空间 $C(A)$ 。$C(A)$ 不仅仅包含的所有列向量，还包括他们的所有线性组合。  
②只要 b 在 A 的列空间这个子空间中，那么就可以找到一种 A 列向量的线性组合来构成 b。也就是使得 Ax = b 有解。

### 零空间
①零向量介绍  
即 Ax = 0 的所有解 x 所构成的一个空间。以下面 A 为例，其零空间就是下面这个方程的解构成的空间：

$$ Ax = \begin{bmatrix} 1 & 1 & 2 \\ 2 & 1 & 3 \\ 3 & 1 & 4 \\ 4 & 1 & 5 \end{bmatrix} \begin{bmatrix} x_1 \\ x_2 \\ x_3 \end{bmatrix} = 0 $$

可以看到 x 有三个分量，所以其零空间是 $R^3$ 的子空间。假设向量 v 和 w 位于此零空间中，也就是 Av = 0 、Aw = 0，那就有 A(v + w) = 0、A(cv) = 0，即它们相加或者乘以一个标量后仍然在零空间中，因此零空间是一个向量空间。

所以，对于 m*n 的矩阵来说，列空间是 $R^m$ 的子空间，零空间是 $R^n$ 的子空间。列空间关键在于列向量的维数，零空间的关键在于列向量的个数。

对于上面的例子，可以看出 $ \begin{bmatrix} 1 \\ 1 \\ -1 \end{bmatrix} $ 是一个解，而其零空间即为：$ C \begin{bmatrix} 1 \\ 1 \\ -1 \end{bmatrix} $ (C 表示任意常数)。表现在图像上就是 $R^3$ 中的一条穿过原点的直线。

②从 x 的角度看 Ax = b  
如果上面构造零空间的方程右侧变为任意向量的话，其解集 x 还能构成向量空间吗？如下：

$$ Ax = \begin{bmatrix} 1 & 1 & 2 \\ 2 & 1 & 3 \\ 3 & 1 & 4 \\ 4 & 1 & 5 \end{bmatrix} \begin{bmatrix} x_1 \\ x_2 \\ x_3 \end{bmatrix} = \begin{bmatrix} 1 \\ 2 \\ 3 \\ 4 \end{bmatrix} $$

答案是不能，因为 x 的解集不包括零向量。本例中 x 的解集是一个不穿过原点的直线。


# 第七课  求解 Ax=0：主变量，特解
